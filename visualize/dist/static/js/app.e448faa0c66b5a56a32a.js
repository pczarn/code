webpackJsonp([2,0],{0:function(t,e,i){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}var o=i(32),n=a(o),r=i(33),s=(a(r),i(110)),h=a(s),u=i(52);new n["default"]({el:"#app",store:u.store,render:function(t){return t(h["default"])}})},49:function(t,e,i){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(111),n=a(o);e["default"]={components:{Hello:n["default"]}}},50:function(t,e,i){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(63),n=a(o),r=i(19),s=a(r),h=i(64),u=a(h),l=i(59),c=a(l),d=i(56),f=a(d),v=i(62),p=a(v),m=i(33),y=i(109),g=a(y),M=i(51),b=a(M),w=70,_=45;e["default"]={name:"canvas-drawing",data:function(){return{loadFactor:.9,side:_,transX:0,transY:0,transMoved:0,lastX:0,dragging:0,highlight:!1,clicked:null,msg:"Hello Vue!",offscreen:document.createElement("canvas")}},mounted:function(){window.requestAnimationFrame(this.draw)},computed:(0,p["default"])({edges:function k(){for(var t=(this.side,[]),e=this.map,i=0;i<this.capacity;i++){var a=e.table[i];if(void 0!==a){var o={from:i,to:a.hash%this.capacity};o.to>o.from&&(o.from+=this.capacity),t.push(o)}}for(var k=new f["default"],r=0;r<t.length;r++){var h=t[r].to;k.has(h)||k.set(h,new c["default"]),k.get(h).add(t[r].from)}k=new f["default"]([].concat((0,u["default"])(k.entries())).sort(function(t,e){return t[0]-e[0]}));var l=[],d=[],v=!0,p=!1,m=void 0;try{for(var y,g=function(){var t=(0,n["default"])(y.value,2),e=t[0],i=t[1];b=Math.max.apply(Math,(0,u["default"])(i.values())),w=d.findIndex(function(t){return t<=e}),w==-1?(w=d.length,d.push(b)):d[w]=b,l.push({to:e,from:i,level:w})},M=(0,s["default"])(k);!(v=(y=M.next()).done);v=!0){var b,w;g()}}catch(_){p=!0,m=_}finally{try{!v&&M["return"]&&M["return"]()}finally{if(p)throw m}}return l},highlightEdge:function(){var t=this;return this.edges.find(function(e){return e.to===t.highlight})},upArrows:function(){if(this.clicked){var t=g["default"].cloneDeep(this.map);return t.moves=[],"left"===this.clicked.click?t.insert(this.clicked.bucket,null):t.remove(this.clicked.bucket),t.moves}return[]},currentLoad:function(){return this.map.size/this.map.capacity}},(0,m.mapGetters)(["map","capacity"])),methods:(0,p["default"])({draw:function(){var t=this.$refs.canvas;if(t.getContext){var e=t.getContext("2d");e.canvas.width=window.innerWidth,e.canvas.height=window.innerHeight,b["default"].setup(t,e,this.transX,this.transY);var i=this.capacity/2-Math.floor(t.width/2/this.side);this.transX=-i*this.side+this.transMoved,this.transY=w,e.translate(this.transX,this.transY);for(var a=Math.floor(-this.transX/(this.side*this.map.capacity)),o=Math.ceil((-this.transX+t.width)/(this.side*this.map.capacity)),n=a;n<o;n++)e.save(),e.translate(n*this.map.capacity*this.side,0),this.drawBuckets(e),n&!0&&(e.globalCompositeOperation="source-over",e.fillStyle="rgba(255,255,255,0.8)",e.fillRect(0,-this.transY,this.map.capacity*this.side,e.canvas.height)),e.restore()}window.requestAnimationFrame(this.draw)},drawBuckets:function(t){this.drawBoxes(t);var e=!0,i=!1,a=void 0;try{for(var o,n=(0,s["default"])(this.edges);!(e=(o=n.next()).done);e=!0){var r=o.value;r.to!=this.highlight&&this.drawEdgeSet(t,r)}}catch(h){i=!0,a=h}finally{try{!e&&n["return"]&&n["return"]()}finally{if(i)throw a}}t.stroke(),void 0!==this.highlightEdge&&(t.save(),t.strokeStyle="red",t.fillStyle="red",t.beginPath(),this.drawEdgeSet(t,this.highlightEdge),t.stroke(),t.restore()),this.drawArrows(t)},drawBoxes:function(t){var e=this.side;t.beginPath(),t.moveTo(0,0),t.lineTo(this.map.capacity*e,0),t.moveTo(0,e),t.lineTo(this.map.capacity*e,e);var i=this.map.iterator();t.moveTo(0,0),t.lineTo(0,e);for(var a=0;a<this.map.capacity;a++)t.moveTo((a+1)*e,0),t.lineTo((a+1)*e,e);t.stroke();for(var a=0;a<this.map.capacity;a++){var o=i.next();o.done||void 0===o.value||b["default"].shape(t,o.value.value,a*e,0,e)}},drawEdgeSet:function(t,e){t.beginPath();var i=this.side,a=i+10*e.level,o=void 0;o=e.from.has(e.to)?e.to*i+i/3:e.to*i+2*i/3;var n=!0,r=!1,h=void 0;try{for(var u,l=(0,s["default"])(e.from);!(n=(u=l.next()).done);n=!0){var c=u.value,d=void 0;d=e.to==c?c*i+2*i/3:c*i+i/2,t.moveTo(d,4*i/5),t.lineTo(d,a+i/5),t.lineTo(o,a+i/5),t.lineTo(o,4*i/5)}}catch(f){r=!0,h=f}finally{try{!n&&l["return"]&&l["return"]()}finally{if(r)throw h}}t.stroke(),t.beginPath(),b["default"].arrow(t,{x:o,y:4*i/5},3*Math.PI/2,7),t.fill()},drawArrows:function(t){var e=this.side;t.beginPath();var i=!0,a=!1,o=void 0;try{for(var r,h=(0,s["default"])(this.upArrows);!(i=(r=h.next()).done);i=!0){var u=(0,n["default"])(r.value,2),l=u[0],c=u[1];if(l!==c){var d=void 0,f=void 0;if(l){var v=void 0;1===Math.abs(l-c)?(v=-20,f=2*Math.PI/16):Math.abs(l-c)<5?(v=-30,f=3*Math.PI/32):Math.abs(l-c)<10?(v=-30,f=Math.PI/16):(v=-60,f=Math.PI/24);var p=e/3,m=void 0,y=void 0;c>l?(m=2*p,y=e/2):(m=e/2,y=2*p),t.moveTo(l*e+m,-10),t.quadraticCurveTo((l+c)/2*e+e/2,v,c*e+y,-10),d=c*e+y}else t.moveTo(c*e+e/2,-30),t.lineTo(c*e+e/2,-10),d=c*e+e/2,f=Math.PI/2;c<l&&(f=Math.PI-f),b["default"].arrow(t,{x:d,y:-10},f)}}}catch(g){a=!0,o=g}finally{try{!i&&h["return"]&&h["return"]()}finally{if(a)throw o}}t.stroke()},mousemove:function(t){var e=t||e;if(this.highlight=null,this.dragging>0){var i=e.offsetX-this.lastX;this.transMoved+=i,this.lastX=e.offsetX}else{var a=this.bucketFromMousePos(e);null!==a&&(this.highlight=a)}},mousedown:function(t){var e=t||e;this.lastX=e.offsetX;var i=this.bucketFromMousePos(e);null===i?this.dragging+=1:0===e.button?this.clicked={bucket:i,click:"left"}:2===e.button&&(this.clicked={bucket:i,click:"right"}),e.stopPropagation()},mouseup:function(t){this.clicked=null,0!==this.dragging&&(this.dragging-=1);var e=this.bucketFromMousePos(t);null!==e&&(t.stopPropagation(),0==t.button?this.insert(e):this.remove(e))},wheel:function(t){t.deltaMode==MouseEvent.DOM_DELTA_PIXEL?this.transMoved+=t.deltaY:this.transMoved+=35*t.deltaY},contextmenu:function(t){var e=this.bucketFromMousePos(t);if(e)return t.preventDefault(),!1},getMousePos:function(t){var e=this.$refs.canvas.getBoundingClientRect();return{x:t.clientX-e.left-this.transX,y:t.clientY-e.top-this.transY}},bucketFromMousePos:function(t){var e=this.getMousePos(t);return e.y>=0&&e.y<=this.side&&e.x>=0&&e.x<=this.map.capacity*this.side?Math.floor(e.x/this.side):null},resetMap:function(t){this.reset(),this.transMoved=0},resetX:function(t){this.transMoved=0},insertRandom:function(t){for(var e=0;e<t;e++){var i=Math.floor(Math.random()*this.capacity);this.insert(i)}}},(0,m.mapMutations)({setCapacity:"SET_CAPACITY",remove:"REMOVE",resize:"RESIZE",reset:"RESET"}),(0,m.mapActions)({insert:"INSERT_RANDOM"}))}},51:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={arrow:function(t,e,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10,o=e.x-a*Math.cos(i-Math.PI/6),n=e.y-a*Math.sin(i-Math.PI/6),r=e.x-a*Math.cos(i+Math.PI/6),s=e.y-a*Math.sin(i+Math.PI/6),h=e.x-.7*a*Math.cos(i),u=e.y-.7*a*Math.sin(i);t.moveTo(e.x,e.y),t.lineTo(o,n),t.lineTo(h,u),t.lineTo(r,s),t.lineTo(e.x,e.y)},shape:function(t,e,i,a,o){var n=Math.sin(e.angle)*o/2,r=Math.cos(e.angle)*o/2,s=i+o/2,h=a+o/2,u=t.createLinearGradient(s-n,h-r,s+n,h+r);u.addColorStop(0,e.colors[0]),u.addColorStop(1,e.colors[1]),t.save(),t.fillStyle=u,0===e.shape?t.fillRect(i+o/4,a+o/4,o/2,o/2):1===e.shape?(t.beginPath(),t.moveTo(s,o/4),t.lineTo(i+3*o/4,a+6*o/8),t.lineTo(i+o/4,a+6*o/8),t.closePath(),t.fill(),t.stroke()):2===e.shape&&(t.beginPath(),t.arc(s,h,o/4,0,2*Math.PI,!1),t.fill(),t.stroke()),t.restore()},setup:function(t,e,i,a){e.globalCompositeOperation="destination-over",e.clearRect(-i,-a,t.width,t.height),e.strokeStyle="black",e.fillStyle="black",e.font="12pt Calibri",e.textAlign="center"}}},52:function(t,e,i){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.store=void 0;var o=i(32),n=a(o),r=i(33),s=a(r),h=i(53);n["default"].use(s["default"]);e.store=new s["default"].Store({modules:{map:h.robinHoodModule}})},53:function(t,e,i){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.robinHoodModule=e.NUM_SHAPES=e.CIRCLE=e.RECTANGLE=e.TRIANGLE=void 0;var o=i(19),n=a(o),r=i(60),s=a(r),h=i(61),u=a(h),l=i(32),c=a(l),d=(e.TRIANGLE=0,e.RECTANGLE=1,e.CIRCLE=2),f=e.NUM_SHAPES=d+1,v=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9;(0,s["default"])(this,t),this.table=Array(e),this.size=0,this.load_factor=i,this.moves=null}return(0,u["default"])(t,[{key:"move",value:function(t,e,i){this.moves&&this.moves.push([t,e]),c["default"].set(this.table,e%this.capacity,i)}},{key:"insert",value:function(t,e,i){this.size+1>=this.capacity*this.load_factor&&this.resize(2*this.capacity);for(var a={value:e,hash:t},o=t%this.capacity,n=o;void 0!==this.table[o%this.capacity];){var r=this.table[o%this.capacity],s=o-(o-r.hash&this.capacity-1);if(s>n)return void this.forwardShift(o,a,s,i);if(o+=1,o>=n+this.size+1)return}this.move(i,o,a),this.size+=1}},{key:"remove",value:function(t){for(;void 0!==this.table[t+1]&&this.table[t+1].hash%this.capacity<t+1;)this.move(t+1,t,this.table[t+1]),t+=1,t%=this.capacity;void 0!==this.table[t]&&(c["default"].set(this.table,t,void 0),this.size-=1)}},{key:"resize",value:function(e){var i=new t(e,this.load_factor);i.moves=this.moves;for(var a=0;a<this.table.length;a++)void 0!==this.table[a]&&i.insert(this.table[a].hash,this.table[a].value,a);this.table=i.table,this.size=i.size,this.moves=i.moves}},{key:"forwardShift",value:function(t,e,i,a){for(;void 0!==this.table[t%this.capacity];){var o=this.table[t%this.capacity];this.move(a,t,e),e=o,a=t,t+=1}this.move(a,t,e),c["default"].set(this.table,t%this.capacity,e),this.size+=1}},{key:"iterator",value:function(){return(0,n["default"])(this.table)}},{key:"capacity",get:function(){return this.table.length},set:function(t){this.table=Array(t)}}]),t}();e.robinHoodModule={state:{map:new v},mutations:{SET_CAPACITY:function(t,e){t.map.capacity=e},RESIZE:function(t,e){t.map.resize(e)},INSERT:function(t,e){var i=e.hash,a=e.value;t.map.insert(i,a)},REMOVE:function(t,e){t.map.remove(e)},RESET:function(t){t.map=new v}},getters:{capacity:function(t){return t.map.capacity},map:function(t){return t.map},iterator:function(t){return t.map.iterator()}},actions:{INSERT_RANDOM:function(t,e){var i=t.getters,a=t.commit,o=Math.floor(65536*Math.random()),n=function(t){return Math.floor(256*Math.random())},r=function(t){return"rgb("+n()+", "+n()+", "+n()+")"},s={colors:[r(),r()],angle:Math.random()*Math.PI,shape:Math.floor(Math.random()*f)};a("INSERT",{hash:e+o*i.capacity,value:s})}}}},107:function(t,e){},108:function(t,e){},110:function(t,e,i){var a,o;i(107),a=i(49);var n=i(112);o=a=a||{},"object"!=typeof a["default"]&&"function"!=typeof a["default"]||(o=a=a["default"]),"function"==typeof o&&(o=o.options),o.render=n.render,o.staticRenderFns=n.staticRenderFns,t.exports=a},111:function(t,e,i){var a,o;i(108),a=i(50);var n=i(113);o=a=a||{},"object"!=typeof a["default"]&&"function"!=typeof a["default"]||(o=a=a["default"]),"function"==typeof o&&(o=o.options),o.render=n.render,o.staticRenderFns=n.staticRenderFns,o._scopeId="data-v-2",t.exports=a},112:function(module,exports){module.exports={render:function(){with(this)return _h("div",{attrs:{id:"app"}},[_h("hello")])},staticRenderFns:[]}},113:function(module,exports){module.exports={render:function(){with(this)return _h("div",[_h("canvas",{ref:"canvas",attrs:{height:"600",width:"800",id:"visualization"},on:{mouseup:mouseup,mousemove:mousemove,mousedown:mousedown,wheel:wheel,contextmenu:contextmenu}},["Not supported canvas"])," ",_h("div",{staticClass:"toolbox"},[_m(0)," ",_h("input",{attrs:{type:"button",value:"Center view"},on:{click:function(t){resetX()}}})," ",_h("input",{attrs:{type:"button",value:"Reset everything"},on:{click:function(t){resetMap()}}})," ",_m(1),"\n    Insert random\n    ",_l([1,10,100],function(t){return[1!==t?[","]:_e()," ",_h("input",{attrs:{type:"button"},domProps:{value:t},on:{click:function(e){insertRandom(t)}}})]})," ",_m(2)," ",_m(3)," ",_h("input",{attrs:{type:"range",name:"current-load",min:"0.01",max:"1",step:"0.01",disabled:"disabled"},domProps:{value:currentLoad}})," ",_m(4)," "," ",_h("input",{attrs:{type:"range",name:"load-factor",min:"0.01",max:"1",step:"0.01"},domProps:{value:_s(loadFactor)},on:{input:function(t){loadFactor=t.target.value}}})])])},staticRenderFns:[function(){with(this)return _h("p",["\n      Click inside boxes to add elements.\n      Right click to remove elements.\n      Drag anywhere to move.\n    "])},function(){with(this)return _h("br")},function(){with(this)return _h("br")},function(){with(this)return _h("label",{attrs:{"for":"current-load"}},["Load factor"])},function(){with(this)return _h("label",{attrs:{"for":"load-factor"}},["Load factor"])}]}}});
//# sourceMappingURL=app.e448faa0c66b5a56a32a.js.map